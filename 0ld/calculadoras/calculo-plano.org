

#+SETUPFILE: ~/.emacs.d/templates/html-level-1.org
#+EXPORT_FILE_NAME: ../publish/tools/calculadoras/calculo-plano.org

#+TITLE: Parametrización
#+SUBTITLE: Calculadoras

#+OPTIONS: html-postamble:nil
#+HTML_HEAD: <script type="text/javascript" src="tools.js"></script>
#+HTML_HEAD: <script async src="nerdamer/all.min.js"></script> 

# # Preview latex 
#+HTML_HEAD: <script async src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
#+HTML_HEAD: <script async id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

#+BEGIN_EXPORT html

Resultado <select id="format" form="carform">
  <option value="decimal">Decimal</option>
  <option value="fraccion">Fracción</option>
</select>

<br><br>

<div id="resultado" style="
    height: 150px;
    display: flex;
    justify-content: center;
    align-items: center;
font-size: 1.2em;" class="example">

$${ \begin{vmatrix}1 & 2 & 3 \cr 4 & 5 & 6 \cr 7 & 8 & 9\end{vmatrix} }$$

</div>

<form>
<p>
Primer Punto:<br>
<input type="text" id="p1" placeholder="0,0,0...">
</p>

<p>
Segundo Punto:<br>
<input type="text" id="p2" placeholder="0,0,0...">
</p>

<p>
Tercer Punto:<br>
<input type="text" id="p3" placeholder="0,0,0...">
</p>

<br>
<input type="button" class="submit" onclick="calcular()" value="Resultado">
<input type="reset" onclick="getById('resultado').innerHTML = '' ">

</form>


<script>

function calcular() {

a = nerdamer.setVar("a", "vector(" + getById("p1").value + ")");
b = nerdamer.setVar("b", "vector(" + getById("p2").value + ")");
c = nerdamer.setVar("c", "vector(" + getById("p3").value + ")");

console.log(a.toString())
console.log(b.toString())
console.log(c.toString())

resultado = nerdamer(" a[0] * ( b[1] * c[2] - b[2] * c[1]) + a[1] * ( b[2] * c[0] - b[1] * c[2]) + a[2] * ( b[0] * c[1] - b[1] * c[0])")

switch( getById("format").value ){
    case "decimal":
    getById('resultado').innerHTML = "$${ " + resultado.toString() + " }$$" ;
    break;

    case "fraccion":
    getById('resultado').innerHTML = "$${ "  + resultado.toTeX() + " }$$" ;
    break;
}

MathJax.typeset()
nerdamer.clearVars();

}

</script>

#+END_EXPORT
