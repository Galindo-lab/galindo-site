
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Calculadora de Ley de Ohm </title>
    
    <script src="./all.min.js"></script>

    <style>
      body {
          max-width: fit-content;
          margin: auto;
          padding: 72px;
          margin-top: 10px;
      }

      h1 {
          text-align: center;
      }
      
      input {
          margin: 2px;
      }
      
      
    </style>


  </head>
  <body>
    <h1>Ley de Ohm</h1>
    <span class="text">Resolver la ecuación 'V=IR'.</span>
    <br><br>

    <div class="mono">
      <input id="V" type="text" placeholder="Voltaje"/>&nbsp;V
      <br>
      <input id="I" type="text" placeholder="Corriente"/>&nbsp;A
      <br>
      <input id="R" type="text" placeholder="Resistencia"/>&nbsp;Ω
      <br>
      <input id="P" type="text" placeholder="Potencia"/>&nbsp;w
    </div>
    
    <hr>
    <button id="solve">Resolver</button>
    <button id="clear" >Reset</button> &nbsp;
    <!-- <a href="https://galindosoft.neocities.org/"></a> -->
  </body>

  <script>
    
    function $(id){
        return document.getElementById(id);
    }

    function getValues() {
        return {
            V: $("V").value != "" ? $("V").value : "V" ,
            R: $("R").value != "" ? $("R").value : "R",
            I: $("I").value != "" ? $("I").value : "I",
            P: $("P").value != "" ? $("P").value : "P",
        };
    }

    $("clear").addEventListener("click", () => {
        [].forEach.call(
            document.getElementsByTagName('input'), (e)=> e.value = ''
        )
    });

    $("solve").addEventListener("click", () => {
        var values = getValues();

        try {
            var ecuacion_voltage = nerdamer('V=R*I', values).text();
            var ecuacion_potencia = nerdamer('P=V*I', values).text();
            var sol = nerdamer.solveEquations(
                [ecuacion_voltage, ecuacion_potencia]
            );

            sol.forEach(a => $(a[0]).value = a[1].toString());
        } catch (error) {
            alert("La Ecuación no puede solucionarse");
        }
        
    });
    
  </script>
    
</html>
